<?xml version="1.0"?>
<launch>

  <!-- Start up Gazebo -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch" />

  <!-- Spawn PMF with specific settings modified -->
  <include file="$(find pmf_description)/launch/pmf.launch" >
    <!-- Name and spawn pose -->
    <arg name="robot_name" value="PMF" />

    <arg name="start_z" value="0.2" />
    <arg name="start_yaw" value="0.0" />

    <!-- Physical properties -->
    <arg name="training_wheels" value="false" />

    <!-- Simulation behavior settings -->
    <arg name="pub_ground_truth" value="false" />
    <arg name="auto_reset_orientation" value="true" />
    <arg name="auto_reset_delay" value="2.0" />

    <!-- Control mode (set only one) -->
    <arg name="voltage_mode" value="false" />
    <arg name="torque_mode" value="false" />
    <arg name="speed_mode" value="true" />
  </include>

  <node pkg="pmf_simulation" name="get_angle" type="get_angle.py" output="screen"> 
  </node>

  <node pkg="pmf_simulation" name="pid_controller" type="pid_controller.py" output="screen"> 
  </node>

</launch>
